<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Open Day 2023 - UoG Computer/Cybernetcis Open Day</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../Introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="../Data_Transmission_Arduino/Data_Transmission_Arduino_Arduino.html" class="active"><strong aria-hidden="true">1.</strong> Open Day 2023</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">UoG Computer/Cybernetcis Open Day</h1>

                    <div class="right-buttons">

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="data-communication-over-serial"><a class="header" href="#data-communication-over-serial">Data Communication over Serial</a></h1>
<p>This document will provide a instructions on how to use the oscilloscope, to read the electrical signal that is being transimitted from the Arduino Uno development board out of the Tx pin.</p>
<hr />
<p><strong>As a reminder, you are to:</strong></p>
<ol>
<li>
<p>Interrogate the signal displayed on the oscilloscope so that you translate the electrical signal to a series of 1's and 0's</p>
</li>
<li>
<p>Then workout which way the signal is being transmitted, is it Least to Most signficant bit or vice versa?</p>
</li>
<li>
<p>What is the decimal representation of the signal?</p>
</li>
<li>
<p>What is the ASCII character?</p>
</li>
<li>
<p>Calculate the speed of the transmitted signal</p>
</li>
<li>
<p>Reset the Arduino and do it again as many times as you like to get different signals</p>
</li>
</ol>
<hr />
<h2 id="code-snippet"><a class="header" href="#code-snippet">Code Snippet</a></h2>
<p>So you can see what is going on under the hood, the snippet of code below demonstates that all characters are randomly generated from the ASCII table:</p>
<p>You can see firstly that a random baudrate is selected by creating a random seed from the analogue pin 2 of the Arduino.</p>
<pre><code class="language-c">randomSeed (analogRead(2));
Serial.begin(baudRate[random(0,3)]);
</code></pre>
<p>... Next a random symbol is picked from the printable ASCII table.</p>
<pre><code class="language-c">randomSeed (analogRead(5));
int startingPos = 33;
int selectedPos = random(0,94);
char symbol = (char)(startingPos + selectedPos);
</code></pre>
<p>Finally, the symbol is sent to the Tx pin every 2 secs until you reset the Arduino, which then starts the whole sequence off again.</p>
<pre><code class="language-c">while(true)
{
    Serial.print(symbol);
    delay(2000);
}
</code></pre>
<h2 id="arduino-setup"><a class="header" href="#arduino-setup">Arduino Setup</a></h2>
<ol>
<li>
<p>Ensure one end of the one cable is secured into the TX connection (Tx-&gt;1) on the Arduino, the other end of the cable to be attached to the red oscilloscope crocodile clip. As shown below:</p>
</li>
<li>
<p>Similarly ensure that the Arduino has been grounded to the oscilloscope by connecting the GND pin of the Arduino to the black crocodile clip of the oscilloscope.</p>
</li>
</ol>
<p align="center">
  <img alt="Light" src="./figures/Arduino_Tx_Pin.png" width="36%">
&nbsp; &nbsp; &nbsp; &nbsp;
  <img alt="Dark" src="./figures/Arduino_Ground_Pin.png" width="35%">
</p>
<p align="center">
<img alt="Dark" src="./figures/Arduino_clips.png" width="45%">
</p>
<ol start="3">
<li>
<p>Similarly ensure that the Arduino has been grounded to the oscilloscope by connecting the GND pin of the Arduino to the black crocodile clip of the oscilloscope.</p>
</li>
<li>
<p>Now you can power on the Arduino with the power adapter provided.</p>
</li>
</ol>
<h2 id="oscilloscope-setup"><a class="header" href="#oscilloscope-setup">Oscilloscope Setup</a></h2>
<p>Using the oscilloscope, we will be able to capture the randomly generated signal being transmitted from the Arduino.</p>
<p align="center">
  <img alt="Light" src="./figures/Oscilloscope_overview.png" width="45%">
</p>
<ol start="5">
<li>Turn the oscilloscope on and ensure that the channel is connected to the selected the BNC cable connection. The Channel selected should be highlighted as shown below. The signal to be shown will represent the colour shown next to the scale, i.e. channel 1 will be yellow., channel 2 blue.</li>
</ol>
<p align="center">
  <img alt="Light" src="./figures/Oscilloscope_power_button.png" width="45%">
&nbsp; &nbsp; &nbsp; &nbsp;
  <img alt="Dark" src="./figures/Oscilloscope_channel_selector.png" width="45%">
</p>
<ol start="6">
<li>Adjust the scale knob above the BNC connector to set the scale to the 2V range. Visible in the left-hand corner of the screen.</li>
</ol>
<p align="center">
  <img alt="Light" src="./figures/Oscilloscope_5v.png" width="80%">
</p>
<ol start="7">
<li>Press the button labelled measure. A list of commands will now be displayed on the screen, select  ‘Add Measurement’ option.</li>
</ol>
<p align="center">
  <img alt="Light" src="./figures/Oscilloscope_add_measurement.png" width="80%">
</p>
<ol start="8">
<li>Next select the ‘time period’ option. Using the knob labelled ‘Variable’ highlight the frequency option and press select.</li>
</ol>
<p align="center">
  <img alt="Light" src="./figures/Oscilloscope_add_measurement_time.png" width="80%">
</p>
<ol start="9">
<li>
<p>Press the measure button again to remove the menu</p>
</li>
<li>
<p>Now press the Zoom button, this will provide another menu on the screen, highlight the one labelled ‘Horizontal Time/Div. Set the scale to read <code>100µS</code> using the variable knob.</p>
</li>
</ol>
<p align="center">
  <img alt="Light" src="./figures/Oscilloscope_time_divison.png" width="80%">
</p>
<ol start="11">
<li>
<p>To hide the menu options press ‘menu off’ on the right-hand side of buttons.</p>
</li>
<li>
<p>You should now see the transmitted data flashing intermittently. Press the run/stop button to capture the signal. Adjust if needed the scale and position controls to place signal to the centre of the screen.</p>
</li>
</ol>
<p align="center">
  <img alt="Light" src="./figures/Oscilloscope_autoset.png" width="45%">
</p>
<ol start="12">
<li>When you have positioned your signal to the middle of the screen to show the start and finish of the transmitted character Byte, press the Run/Stop button. This will then capture the signal and will stop flashing in time with the Baud rate, allowing you to calculate the binary representation. This may take a couple of attempts to get the timing right. If this is the case, just press the Run Stop button again and retry.</li>
</ol>
<h2 id="reading-the-data"><a class="header" href="#reading-the-data">Reading the Data</a></h2>
<ol>
<li>You should see a transmitted signal like below:</li>
</ol>
<p align="center">
  <img alt="Light" src="./figures/Digital_Signal.png" width="80%">
</p>
<ol start="15">
<li>The Byte shown above is represented as 8 bits of Binary <code>0</code> or <code>1</code>.  We can then work out proportionally the binary code representation. Remembering to read right to left. The example above is displaying <code>00100001</code> .</li>
</ol>
<p>Remember that:</p>
<ul>
<li>
<p>A <code>0</code> is represented when the signal is on the 0V line indicated on the screen represented in the left-hand side of the screen</p>
</li>
<li>
<p>A <code>1</code> is represented as 5V as indicated on the right-hand side of the screen</p>
</li>
</ul>
<ol start="16">
<li>Using the ASCII code conversion table you can now identify the character being displayed below once you have converted the binary notation into a decimal number:</li>
</ol>
<h2 id="ascii-table"><a class="header" href="#ascii-table">ASCII Table</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Dec</th><th>Char</th><th>Dec</th><th>Char</th><th>Dec</th><th>Char</th><th>Dec</th><th>Char</th><th>Dec</th><th>Char</th><th>Dec</th><th>Char</th></tr></thead><tbody>
<tr><td>32</td><td>SPACE</td><td>50</td><td>2</td><td>68</td><td>D</td><td>86</td><td>V</td><td>104</td><td>h</td><td>122</td><td>z</td></tr>
<tr><td>33</td><td>!</td><td>51</td><td>3</td><td>69</td><td>E</td><td>87</td><td>W</td><td>105</td><td>i</td><td>123</td><td>{</td></tr>
<tr><td>34</td><td>"</td><td>52</td><td>4</td><td>70</td><td>F</td><td>88</td><td>X</td><td>106</td><td>j</td><td>124</td><td></td></tr>
<tr><td>35</td><td>#</td><td>53</td><td>5</td><td>71</td><td>G</td><td>89</td><td>Y</td><td>107</td><td>k</td><td>125</td><td>}</td></tr>
<tr><td>36</td><td>$</td><td>54</td><td>6</td><td>72</td><td>H</td><td>90</td><td>Z</td><td>108</td><td>l</td><td>126</td><td>~</td></tr>
<tr><td>37</td><td>%</td><td>55</td><td>7</td><td>73</td><td>I</td><td>91</td><td>[</td><td>109</td><td>m</td><td>127</td><td>DEL</td></tr>
<tr><td>38</td><td>&amp;</td><td>56</td><td>8</td><td>74</td><td>J</td><td>92</td><td>\</td><td>110</td><td>n</td><td></td><td></td></tr>
<tr><td>39</td><td>'</td><td>57</td><td>9</td><td>75</td><td>K</td><td>93</td><td>]</td><td>111</td><td>o</td><td></td><td></td></tr>
<tr><td>40</td><td>(</td><td>58</td><td>:</td><td>76</td><td>L</td><td>94</td><td>^</td><td>112</td><td>p</td><td></td><td></td></tr>
<tr><td>41</td><td>)</td><td>59</td><td>;</td><td>77</td><td>M</td><td>95</td><td>_</td><td>113</td><td>q</td><td></td><td></td></tr>
<tr><td>42</td><td>*</td><td>60</td><td>&lt;</td><td>78</td><td>N</td><td>96</td><td>`</td><td>114</td><td>r</td><td></td><td></td></tr>
<tr><td>43</td><td>+</td><td>61</td><td>=</td><td>79</td><td>O</td><td>97</td><td>a</td><td>115</td><td>s</td><td></td><td></td></tr>
<tr><td>44</td><td>,</td><td>62</td><td>&gt;</td><td>80</td><td>P</td><td>98</td><td>b</td><td>116</td><td>t</td><td></td><td></td></tr>
<tr><td>45</td><td>-</td><td>63</td><td>?</td><td>81</td><td>Q</td><td>99</td><td>c</td><td>117</td><td>u</td><td></td><td></td></tr>
<tr><td>46</td><td>.</td><td>64</td><td>@</td><td>82</td><td>R</td><td>100</td><td>d</td><td>118</td><td>v</td><td></td><td></td></tr>
<tr><td>47</td><td>/</td><td>65</td><td>A</td><td>83</td><td>S</td><td>101</td><td>e</td><td>119</td><td>w</td><td></td><td></td></tr>
<tr><td>48</td><td>0</td><td>66</td><td>B</td><td>84</td><td>T</td><td>102</td><td>f</td><td>120</td><td>x</td><td></td><td></td></tr>
<tr><td>49</td><td>1</td><td>67</td><td>C</td><td>85</td><td>U</td><td>103</td><td>g</td><td>121</td><td>y</td><td></td><td></td></tr>
<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
</tbody></table>
</div>
<h2 id="calculate-the-baud-rate"><a class="header" href="#calculate-the-baud-rate">Calculate the Baud Rate</a></h2>
<p>As part of the assignment you have to calculate the baudrate or transmission speed of the signal displayed on the oscilloscope.</p>
<p>\[ time_{perbit} = \frac{timeDivision\cdot10^{unit}}{bits} \]</p>
<p>\[BR_{est} = \frac{1}{time_{perbit}} \]</p>
<p>Match \(BR_{est}\) with list of baudrates:</p>
<ul>
<li>2400 (\(a\ bit\ per\ 416\mu s\))</li>
<li>4800 (\(a\ bit\ per\ 208\mu s\))</li>
<li>9600 (\(a\ bit\ per\ 104\mu s\))</li>
<li>19200 (\(a\ bit\ per\ 52\mu s\))</li>
<li>38400 (\(a\ bit\ per\ 26\mu s\))</li>
</ul>
<p>For example:</p>
<div align=center>
<p><img src="./figures/disecting_signal.png" alt="" /></p>
</div>
<p>\[ 50\mu s = \frac{50\cdot 10^{-6}}{1}\ || \frac{5\cdot 10^{-5}}{1}\]</p>
<p>\[ 20000 = \frac{1}{50\cdot 10^{-6}}\ || \frac{1}{5\cdot 10^{-5}} \]</p>
<p>Therefore the closet baudrate is \(19200\) which is \(1\ bit\ every\ 52\mu s\)</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../Introduction.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../Introduction.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
